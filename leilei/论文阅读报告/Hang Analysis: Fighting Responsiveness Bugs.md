### Hang Analysis: Fighting Responsiveness Bugs阅读报告
####挂起错误：
因为时间紧迫的路径中包含不应该调用的阻塞或耗时的操作。

####挂起错误出现的地方：
GUI应用程序、事件驱动的服务器、链接的过滤器。

####“不响应”错误的原因：

１、含死锁（Engler和Ashcraft 2003; Williams等人2005）

２、无限循环或许多其他与挂起问题相关的正确性错误（Cook et al.2006,2007）

３、软挂起，不是正确性错误触发的。它应该被更改为更加用户友好。应用程序应该在单独的线程中执行网络通信，弹出对话框以指示状态和进度，并且可选地允许
用户取消操作。

####测试方法

缺点：

实验室中的测试不包括由于多个线程复杂交互而触发挂起错误的所有情况。

挂起错误通常对一些难以重现的环境敏感，例如特殊输入和网络条件。

####静态分析工具

优点：

可以耗尽所有调用路径

不具有环境限制的弱点

缺点：

缺少常见的挂起模型

#### 一、模式提取

１、通用挂起模型描述响应性bug。 操作的基本单元：调用

响应模式——捕获响应调用

有一些时间关键的调用应该或被预期在某些特定上下文中及时完成。（例如UI线程中的调用）

P ATTERN 2.1。对UI线程中的任何函数的调用是响应。

阻塞模式——捕获阻塞调用

存在会阻塞可感知间隔（例如connect）的一些耗时调用。

P ATTERN 2.2。对connect的调用是阻塞。（限制：只考虑阻塞API，忽略由操作系统副作用（如分页/交换）引起的其他运行时性能问题）

P ATTERN 2.3。 如果文件路径可能是远程的，则对GetFileAttributesW的调用是阻塞的。（减少加警报）

挂起错误

在他们的交集的调用是潜在的挂起错误。换句话说，挂起错误是一个响应和阻塞的调用。

２、基于模型，我们在测试和客户端轨迹中收集作为挂起案例泛化模式。 也可以由领域专家指定。

#### 二、静态分析（不是依靠测试来发现挂起的错误）


（１）全调用计算（Datalog查询语言）（通过编译器插件从源代码中提取调用图）

在每个调用点，为调用者，被调用者构造call关系

计算主要可以达到的函数是对call关系的递归recursive查询。

函数参数可以具有依赖特定上下文的属性，采用基于克隆的上下文敏感分析方法（Whaley和Lam 2004）构造上下文相关的调用图。


（２）响应调用计算

通过响应模的输入，将所有调用的集合减少为响应调用集合

（３）阻塞调用计算

通过阻塞模式的输入，将所有调用的集合减少为阻塞调用集合

（４）挂起调用后处理

计算响应调用集合和阻塞调用集合的交集是一组挂起错误的近似

#### 三、固化和重构

挂起错误应该通过代码重构来修复。

#### 四、缺点
